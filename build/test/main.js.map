{"version":3,"file":"test/main.js","names":["isDeepStrictEqual","Ajv","test","signalsByName","signalsByNumber","each","ajv","validate","value","schema","isValid","errorsText","errors","separator","JSON_SCHEMA","type","minProperties","additionalProperties","properties","name","pattern","number","minimum","maximum","description","minLength","supported","action","enum","forced","standard","title","signals","t","is","true","Object","entries","every","key","String","values","signal"],"sources":["../../test/main.js"],"sourcesContent":["import { isDeepStrictEqual } from 'util'\n\nimport Ajv from 'ajv'\nimport test from 'ava'\nimport { signalsByName, signalsByNumber } from 'human-signals'\nimport { each } from 'test-each'\n\nconst ajv = new Ajv({})\n\nconst validate = function (value, schema) {\n  const isValid = ajv.validate(schema, value)\n\n  if (isValid) {\n    return true\n  }\n\n  return ajv.errorsText(ajv.errors, { separator: '\\n' })\n}\n\nconst JSON_SCHEMA = {\n  type: 'object',\n  minProperties: 1,\n  additionalProperties: {\n    type: 'object',\n    properties: {\n      name: { type: 'string', pattern: 'SIG[A-Z\\\\d]+' },\n      number: { type: 'integer', minimum: 1, maximum: 64 },\n      description: { type: 'string', minLength: 1 },\n      supported: { type: 'boolean' },\n      action: {\n        type: 'string',\n        enum: ['terminate', 'core', 'ignore', 'pause', 'unpause'],\n      },\n      forced: { type: 'boolean' },\n      standard: {\n        type: 'string',\n        enum: ['ansi', 'posix', 'bsd', 'systemv', 'other'],\n      },\n    },\n    additionalProperties: false,\n  },\n}\n\neach(\n  [\n    { title: 'signalsByName', signals: signalsByName },\n    { title: 'signalsByNumber', signals: signalsByNumber },\n  ],\n  ({ title }, { signals }) => {\n    test(`Shape | ${title}`, (t) => {\n      t.is(validate(signals, JSON_SCHEMA), true)\n    })\n  },\n)\n\ntest('Object keys | signalsByName', (t) => {\n  t.true(Object.entries(signalsByName).every(([key, { name }]) => key === name))\n})\n\ntest('Object keys | signalsByNumber', (t) => {\n  t.true(\n    Object.entries(signalsByNumber).every(\n      ([key, { number }]) => key === String(number),\n    ),\n  )\n})\n\ntest('Same signals', (t) => {\n  t.true(\n    Object.values(signalsByNumber).every((signal) =>\n      isDeepStrictEqual(signal, signalsByName[signal.name]),\n    ),\n  )\n})\n"],"mappings":"AAAA,OAASA,iBAAT,KAAkC,MAAlC;;AAEA,MAAOC,IAAP,KAAgB,KAAhB;AACA,MAAOC,KAAP,KAAiB,KAAjB;AACA,OAASC,aAAT,CAAwBC,eAAxB,KAA+C,eAA/C;AACA,OAASC,IAAT,KAAqB,WAArB;;AAEA,KAAMC,IAAG,CAAG,GAAIL,IAAJ,CAAQ,EAAR,CAAZ;;AAEA,KAAMM,SAAQ,CAAG,SAAUC,KAAV,CAAiBC,MAAjB,CAAyB;AACxC,KAAMC,QAAO,CAAGJ,GAAG,CAACC,QAAJ,CAAaE,MAAb,CAAqBD,KAArB,CAAhB;;AAEA,GAAIE,OAAJ,CAAa;AACX,MAAO,KAAP;AACD;;AAED,MAAOJ,IAAG,CAACK,UAAJ,CAAeL,GAAG,CAACM,MAAnB,CAA2B,CAAEC,SAAS,CAAE,IAAb,CAA3B,CAAP;AACD,CARD;;AAUA,KAAMC,YAAW,CAAG;AAClBC,IAAI,CAAE,QADY;AAElBC,aAAa,CAAE,CAFG;AAGlBC,oBAAoB,CAAE;AACpBF,IAAI,CAAE,QADc;AAEpBG,UAAU,CAAE;AACVC,IAAI,CAAE,CAAEJ,IAAI,CAAE,QAAR,CAAkBK,OAAO,CAAE,cAA3B,CADI;AAEVC,MAAM,CAAE,CAAEN,IAAI,CAAE,SAAR,CAAmBO,OAAO,CAAE,CAA5B,CAA+BC,OAAO,CAAE,EAAxC,CAFE;AAGVC,WAAW,CAAE,CAAET,IAAI,CAAE,QAAR,CAAkBU,SAAS,CAAE,CAA7B,CAHH;AAIVC,SAAS,CAAE,CAAEX,IAAI,CAAE,SAAR,CAJD;AAKVY,MAAM,CAAE;AACNZ,IAAI,CAAE,QADA;AAENa,IAAI,CAAE,CAAC,WAAD,CAAc,MAAd,CAAsB,QAAtB,CAAgC,OAAhC,CAAyC,SAAzC,CAFA,CALE;;AASVC,MAAM,CAAE,CAAEd,IAAI,CAAE,SAAR,CATE;AAUVe,QAAQ,CAAE;AACRf,IAAI,CAAE,QADE;AAERa,IAAI,CAAE,CAAC,MAAD,CAAS,OAAT,CAAkB,KAAlB,CAAyB,SAAzB,CAAoC,OAApC,CAFE,CAVA,CAFQ;;;AAiBpBX,oBAAoB,CAAE,KAjBF,CAHJ,CAApB;;;;AAwBAZ,IAAI;AACF;AACE,CAAE0B,KAAK,CAAE,eAAT,CAA0BC,OAAO,CAAE7B,aAAnC,CADF;AAEE,CAAE4B,KAAK,CAAE,iBAAT,CAA4BC,OAAO,CAAE5B,eAArC,CAFF,CADE;;AAKF,CAAC,CAAE2B,KAAF,CAAD,CAAY,CAAEC,OAAF,CAAZ,GAA4B;AAC1B9B,IAAI,CAAE,WAAU6B,KAAM,EAAlB,CAAqB,CAACE,CAAD,GAAO;AAC9BA,CAAC,CAACC,EAAF,CAAK3B,QAAQ,CAACyB,OAAD,CAAUlB,WAAV,CAAb,CAAqC,IAArC;AACD,CAFG,CAAJ;AAGD,CATC,CAAJ;;;AAYAZ,IAAI,CAAC,6BAAD,CAAgC,CAAC+B,CAAD,GAAO;AACzCA,CAAC,CAACE,IAAF,CAAOC,MAAM,CAACC,OAAP,CAAelC,aAAf,EAA8BmC,KAA9B,CAAoC,CAAC,CAACC,GAAD,CAAM,CAAEpB,IAAF,CAAN,CAAD,GAAqBoB,GAAG,GAAKpB,IAAjE,CAAP;AACD,CAFG,CAAJ;;AAIAjB,IAAI,CAAC,+BAAD,CAAkC,CAAC+B,CAAD,GAAO;AAC3CA,CAAC,CAACE,IAAF;AACEC,MAAM,CAACC,OAAP,CAAejC,eAAf,EAAgCkC,KAAhC;AACE,CAAC,CAACC,GAAD,CAAM,CAAElB,MAAF,CAAN,CAAD,GAAuBkB,GAAG,GAAKC,MAAM,CAACnB,MAAD,CADvC,CADF;;;AAKD,CANG,CAAJ;;AAQAnB,IAAI,CAAC,cAAD,CAAiB,CAAC+B,CAAD,GAAO;AAC1BA,CAAC,CAACE,IAAF;AACEC,MAAM,CAACK,MAAP,CAAcrC,eAAd,EAA+BkC,KAA/B,CAAqC,CAACI,MAAD;AACnC1C,iBAAiB,CAAC0C,MAAD,CAASvC,aAAa,CAACuC,MAAM,CAACvB,IAAR,CAAtB,CADnB,CADF;;;AAKD,CANG,CAAJ"}